# This config was automatically generated from your source code
# Stacks detected: deps:node:createxyz-project,deps:php:MyVendor.Ticket,package_manager:yarn:
   #       - build-node
version: 2.1

executors:
  php_executor:
    docker:
      - image: cimg/php:8.3  # PHP 8.3 環境
    working_directory: ~/project

jobs:
  test-backend:
    executor: php_executor
    steps:
      - checkout  # GitHubリポジトリのコードを取得

      - run:
          name: Install Composer dependencies
          working_directory: MyVendor.Ticket
          command: |
            curl -sS https://getcomposer.org/installer | php
            php composer.phar install --no-scripts

      - run:
          name: Run Bear.Sunday PHPUnit tests
          working_directory: MyVendor.Ticket
          command: ./vendor/bin/phpunit --testdox

workflows:
  version: 2
  test:
    jobs:
      - test-backend

